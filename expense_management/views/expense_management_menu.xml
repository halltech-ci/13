<odoo>
  <data>
    <record model="ir.ui.view" id="expense_request_view">
      <field name="name">expense_request_view</field>
      <field name="model">expense.request</field>
      <field name="arch" type="xml">
        <form string="Exepnse Request">
          <header>
            <field name="state"
                 widget="statusbar"
                 statusbar_visible="draft,submit,to_approve,approved,post,cancel"
                 statusbar_colors='{"approved":"blue"}'
             />
          </header>
          <sheet>
              <div class="oe_edit_only">
                 <label for="name" class="oe_inline" />
              </div>
              <h1>
                    <field name="name" class="oe_inline"/>
              </h1>
               
              <group>
                  <group>
                      <field
                        name="requested_by"/>
                  </group>
                  <group>
                      <field name="date" readonly='True'/>
                  </group>
              </group>
              <notebook>
                  <page string='Expense lines'>
                      <field name="line_ids">
                          <tree>
                              <field name='name'/>
                              <field name='date'/>
                              <field name='requested_by'/>
                              <field name='amount'/>
                              <field name='payment_mode'/>
                              <field name='payed_by'/>
                          </tree>
                      </field>
                  </page>
              </notebook>
          </sheet>
        </form>
      </field>
    </record>
    
    <record id="view_expense_request_tree" model="ir.ui.view">
            <field name="name">hr.expense.request.tree</field>
            <field name="model">expense.request</field>
            <field name="arch" type="xml">
                <tree string="Expense Request" decoration-warning="state=='draft'" decoration-danger="state=='cancel'">
                    <field name="name" string="Expense Request"/>
                    <field name="employee_id" string='Beneficiaire'/>
                    <field name="date"/>
                    <!--<field name="accounting_date" groups="account.group_account_manager"/>-->
                    <field name="total_amount" sum="Total Amount"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="state"/>
                    <field name="requested_by"/>
                    <!--<field name="message_unread" invisible="1"/>-->
                    <field name="company_id" groups="base.group_multi_company"/>
                    <!--<field name="activity_exception_decoration" widget="activity_exception"/>-->
                </tree>
            </field>
        </record>
    
    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="expense_management_action_window">
      <field name="name">Expense Management</field>
      <field name="res_model">expense.request</field>
      <field name="view_mode">tree,form</field>
    </record>
    
    <menuitem id="expense_management.menu_root"
        name="Expense Management"
        groups="hr.group_hr_user"
        sequence="100"
        web_icon="hr_expense,static/description/icon.png"
    />
    <menuitem name="Menu 1" id="expense_management.menu_1" parent="expense_management.menu_root"
              action="expense_management_action_window"/>
  </data>
</odoo>